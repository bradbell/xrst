.. include:: xrst_preamble.rst

.. _toml_file:

!!!!!!!!!
toml_file
!!!!!!!!!

xrst input file: ``xrst/get_toml_dict.py``

.. meta::
   :keywords: toml_file, configuration, xrst

.. index:: toml_file, configuration, xrst

.. _toml_file-title:

Configuration File for xrst
###########################
A toml file is used to configure xrst.

#. The location of this file is specified by the xrst
   :ref:`run_xrst@toml_path` argument.
#. This file is a sequence of toml tables,
   if a table can only have one entry, the entry is named data.
#. Each table, has a default value that is used when the table
   is not present in the toml file.
#. All of the entries in the table have the same type
   as its corresponding default.
   If an entry has components, all of the comments have the same
   type as the default components.
#. All of the directories specified in this file below are relative to the
   :ref:`run_xrst@toml_path@project_directory`;
   i.e.; the directory where the toml file is located.

.. contents::
   :local:

.. meta::
   :keywords: project_name

.. index:: project_name

.. _toml_file@project_name:

project_name
************
The only value in this table is the name of this project.
The default for this table is

.. literalinclude:: ../xrst/get_toml_dict.py
   :lines: 41-42
   :language: toml

.. _toml_file@project_name@Example:

Example
=======

.. literalinclude:: ../xrst.toml
   :lines: 5-6
   :language: toml

.. meta::
   :keywords: root_file

.. index:: root_file

.. _toml_file@root_file:

root_file
*********
This table maps the :ref:`group names <begin_cmd@group_name>`
to its root (top) xrst input file.
Multiple groups can use the same root file.
The default for this table is

.. literalinclude:: ../xrst/get_toml_dict.py
   :lines: 64-65
   :language: toml

Note that ``default`` corresponds to the
:ref:`begin_cmd@group_name@Default Group` and ``project.xrst``
is the default root file.

.. _toml_file@root_file@Example:

Example
=======

.. literalinclude:: ../xrst.toml
   :lines: 10-13
   :language: toml

.. meta::
   :keywords: output_directory

.. index:: output_directory

.. _toml_file@output_directory:

output_directory
****************
This table maps the :ref:`run_xrst@target` to the
directory where the final output is stored .
The default for this table is

.. literalinclude:: ../xrst/get_toml_dict.py
   :lines: 90-92
   :language: toml

Note that the possible values
for *target* are ``'html'`` and ``'pdf'`` and that the default
uses the same name for the output directory.

.. _toml_file@output_directory@Example:

Example
=======

.. literalinclude:: ../xrst.toml
   :lines: 17-20
   :language: toml

.. meta::
   :keywords: rst_directory

.. index:: rst_directory

.. _toml_file@rst_directory:

rst_directory
*************
The only value in this table is
the directory where xrst writes the rst files it extracts from the source code.
For each :ref:`begin_cmd@page_name` , the file

|space| *rst_directory*\ /\ *page_name*\ ``.rst``

is the RST file for the corresponding page. There is one exception
to this rule. If *page_name* ends with ``.rst``, the extra ``.rst``
is not added at the end.
The default for this table is

.. literalinclude:: ../xrst/get_toml_dict.py
   :lines: 126-127
   :language: toml

.. _toml_file@rst_directory@Example:

Example
=======

.. literalinclude:: ../xrst.toml
   :lines: 24-26
   :language: toml

.. meta::
   :keywords: other, generated, files

.. index:: other, generated, files

.. _toml_file@rst_directory@Other Generated Files:

Other Generated Files
=====================
See :ref:`auto_file-title` for the other files generated by ``xrst``
and placed in the rst_directory.

.. meta::
   :keywords: preamble

.. index:: preamble

.. _toml_file@preamble:

preamble
********
This table is used to create a xrst_preamble.rst file that is included
at the beginning of every page.
This table has the following keys:

.. meta::
   :keywords: rst_substitution

.. index:: rst_substitution

.. _toml_file@preamble@rst_substitution:

rst_substitution
================
The value corresponding to this key is a set of rst substitution commands
that get included at the top of every section.

.. meta::
   :keywords: latex_macro

.. index:: latex_macro

.. _toml_file@preamble@latex_macro:

latex_macro
===========
The value corresponding to this key is a list of latex macros.
If :ref:`run_xrst@target` is html, these macros get included at the
top of every page using the sphinx ``:math`` role.
Otherwise *target* is 'pdf' and these macros get included once
at the beginning of the corresponding latex document.
It either case they can be used by every page in the documentation.

.. meta::
   :keywords: default

.. index:: default

.. _toml_file@preamble@default:

default
=======

.. literalinclude:: ../xrst/get_toml_dict.py
   :lines: 169-171
   :language: toml

.. _toml_file@preamble@Example:

Example
=======

.. literalinclude:: ../xrst.toml
   :lines: 30-38
   :language: toml

.. meta::
   :keywords: project_dictionary

.. index:: project_dictionary

.. _toml_file@project_dictionary:

project_dictionary
******************
The only value in this table is a list of strings.
Each string contains a newline separated list of words.
Leading and trailing white space is not part of each word.
These special words are not considered spelling errors for the entire project.
Special words, for a particular page, are specified using the
:ref:`spell command<spell_cmd>`.
The default for this table is

.. literalinclude:: ../xrst/get_toml_dict.py
   :lines: 199-200
   :language: toml

.. _toml_file@project_dictionary@Example:

Example
=======

.. literalinclude:: ../xrst.toml
   :lines: 42-58
   :language: toml

.. meta::
   :keywords: not_in_index

.. index:: not_in_index

.. _toml_file@not_in_index:

not_in_index
************
The only value in this table is a list of strings.
Each string  contains a newline separated list of patterns.
Leading and trailing white space is not part of each pattern.
These are python regular expression patterns for heading tokens
that are not included in the index.
A heading token is any sequence of non white space characters
with upper case letters converted to lower case.
For example, a heading might contain the token ``The`` but you
might not want to include ``the`` as a entry in the :ref:`genindex`.
In this case you could have a line containing just ``the`` .
For another example, you might want to exclude all tokens that are
integer numbers.
In this case you could have a line containing just ``[0-9]*`` .
The default value for this key is

.. literalinclude:: ../xrst/get_toml_dict.py
   :lines: 231-232
   :language: toml

.. _toml_file@not_in_index@Example:

Example
=======

.. literalinclude:: ../xrst.toml
   :lines: 62-87
   :language: toml
